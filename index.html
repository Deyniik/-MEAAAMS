<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeyMem Pro+</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap&subset=cyrillic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap&subset=cyrillic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&display=swap&subset=cyrillic" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="logo">DeyMem Pro+</div>
    
    <div class="app-container">
        <!-- Левая колонка -->
        <div class="left-column">
            <!-- Панель загрузки -->
            <div class="control-panel">
                <div class="panel-title">
                    <i class="fas fa-image"></i>
                    <span>Изображение</span>
                </div>
                <div class="file-upload" id="file-upload-panel" style="display: none;">
                    <label class="file-upload-btn">
                        <i class="fas fa-upload"></i> Загрузить новое фото
                        <input type="file" id="upload" accept="image/*">
                    </label>
                </div>
            </div>
            
            <!-- Панель текста -->
            <div class="control-panel">
                <div class="panel-title">
                    <i class="fas fa-font"></i>
                    <span>Текст мема</span>
                </div>
                <div class="text-inputs">
                    <input type="text" id="text-top" placeholder="Верхний текст">
                    <input type="text" id="text-bottom" placeholder="Нижний текст">
                </div>
            </div>
            
            <!-- Панель стилей -->
            <div class="control-panel">
                <div class="panel-title">
                    <i class="fas fa-paint-brush"></i>
                    <span>Стиль текста</span>
                </div>
                <div class="control-group">
                    <label class="control-label">Шрифт:</label>
                    <div class="font-select-container">
                        <select id="font-family">
                            <option value="Impact" style="font-family: Impact">Impact</option>
                            <option value="Arial Black" style="font-family: Arial Black">Arial Black</option>
                            <option value="'Roboto', sans-serif" style="font-family: 'Roboto', sans-serif">Roboto</option>
                            <option value="'Montserrat', sans-serif" style="font-family: 'Montserrat', sans-serif">Montserrat</option>
                            <option value="'Oswald', sans-serif" style="font-family: 'Oswald', sans-serif">Oswald</option>
                        </select>
                        <button class="reset-font-btn" title="Случайный шрифт" onclick="randomFont()">A</button>
                    </div>
                </div>
                
                <div class="style-controls">
                    <div class="control-group">
                        <label class="control-label">Размер текста:</label>
                        <input type="range" id="font-size" min="30" max="100" value="42">
                        <div class="slider-value" id="font-size-value">42px</div>
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">Цвет текста:</label>
                        <div class="color-control">
                            <input type="color" id="text-color" value="#ffffff">
                            <span id="color-hex">#FFFFFF</span>
                        </div>
                    </div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Обводка текста:</label>
                    <div class="stroke-control">
                        <input type="color" id="stroke-color" value="#000000">
                        <input type="range" id="stroke-width" min="0" max="5" value="1" step="0.1">
                        <span id="stroke-width-value">1px</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Центральная панель с изображением -->
        <div class="meme-panel">
            <div id="meme-container">
                <div id="upload-placeholder">
                    <label class="upload-label">
                        <input type="file" id="upload-main" accept="image/*">
                        <div class="upload-content">
                            <i class="fas fa-upload"></i>
                            <span>Загрузить фото</span>
                        </div>
                    </label>
                </div>
                <img id="meme-image" src="" style="display: none;">
                <div id="top-text-background" class="text-background"></div>
                <div id="bottom-text-background" class="text-background"></div>
                <div id="top-text" class="meme-text" contenteditable="true"></div>
                <div id="bottom-text" class="meme-text" contenteditable="true"></div>
                <div id="meme-mask" style="position: absolute; pointer-events: none; z-index: 3;"></div>
                <div id="frame-overlay" class="frame-overlay" style="display: none;"></div>
                <img id="framed-image" class="framed-image" style="display: none;">
            </div>
        </div>
        
        <!-- Правая колонка -->
        <div class="right-column">
            <!-- Панель шаблонов -->
            <div class="control-panel">
                <div class="panel-title">
                    <i class="fas fa-th"></i>
                    <span>Шаблоны</span>
                </div>
                <div class="templates-header">
                    <span>Популярные мемы:</span>
                    <button class="refresh-templates" onclick="loadRandomTemplates()">
                        <i class="fas fa-sync-alt"></i> Обновить
                    </button>
                </div>
                <div class="templates" id="templates-container">
                    <!-- Шаблоны будут загружены динамически -->
                </div>
            </div>
            
            <!-- Панель эффектов -->
            <div class="control-panel">
                <div class="panel-title">
                    <i class="fas fa-magic"></i>
                    <span>Эффекты</span>
                </div>
                <div class="control-group">
                    <div class="more-btn" onclick="togglePanel('effects-panel')">
                        <i class="fas fa-palette"></i>
                        <span>Текстовые эффекты</span>
                    </div>
                    <div class="panel" id="effects-panel">
                        <div class="effect-btn" onclick="applyTextEffect('gradient')">
                            <i class="fas fa-fill-drip"></i>
                            Градиент
                        </div>
                        <div class="effect-btn" onclick="applyTextEffect('neon')">
                            <i class="fas fa-lightbulb"></i>
                            Неон
                        </div>
                        <div class="effect-btn" onclick="applyTextEffect('outline')">
                            <i class="fas fa-border-style"></i>
                            Контур
                        </div>
                        <div class="effect-btn" onclick="applyTextEffect('shadow')">
                            <i class="fas fa-shadow"></i>
                            Тень
                        </div>
                        <div class="effect-btn" onclick="applyTextEffect('rainbow')">
                            <i class="fas fa-rainbow"></i>
                            Радуга
                        </div>
                        <div class="effect-btn" onclick="applyTextEffect('glow')">
                            <i class="fas fa-fire"></i>
                            Свечение
                        </div>
                        <div class="effect-btn" onclick="applyTextEffect('3d')">
                            <i class="fas fa-cube"></i>
                            3D Текст
                        </div>
                    </div>
                </div>
                
                <div class="control-group">
                    <div class="more-btn" onclick="togglePanel('filters-panel')">
                        <i class="fas fa-sliders-h"></i>
                        <span>Фильтры изображения</span>
                    </div>
                    <div class="panel" id="filters-panel">
                        <div class="effect-btn" onclick="applyFilter('none')">
                            <i class="fas fa-times"></i>
                            Нет
                        </div>
                        <div class="effect-btn" onclick="applyFilter('grayscale(100%)')">
                            <i class="fas fa-moon"></i>
                            Ч/Б
                        </div>
                        <div class="effect-btn" onclick="applyFilter('sepia(100%)')">
                            <i class="fas fa-umbrella-beach"></i>
                            Сепия
                        </div>
                        <div class="effect-btn" onclick="applyFilter('invert(100%)')">
                            <i class="fas fa-adjust"></i>
                            Инверт
                        </div>
                        <div class="effect-btn" onclick="applyFilter('blur(2px)')">
                            <i class="fas fa-smog"></i>
                            Размытие
                        </div>
                        <div class="effect-btn" onclick="applyFilter('brightness(1.5)')">
                            <i class="fas fa-sun"></i>
                            Ярче
                        </div>
                        <div class="effect-btn" onclick="applyFilter('contrast(1.5)')">
                            <i class="fas fa-sliders-h"></i>
                            Контраст
                        </div>
                        <div class="effect-btn" onclick="applyFilter('hue-rotate(90deg)')">
                            <i class="fas fa-paint-brush"></i>
                            Оттенок
                        </div>
                        <div class="effect-btn" onclick="applyFilter('saturate(2)')">
                            <i class="fas fa-tint"></i>
                            Насыщенность
                        </div>
                        <div class="effect-btn" onclick="applyFilter('opacity(0.8)')">
                            <i class="fas fa-low-vision"></i>
                            Прозрачность
                        </div>
                        <div class="effect-btn" onclick="applyFilter('drop-shadow(5px 5px 5px #222)')">
                            <i class="fas fa-cloud"></i>
                            Тень
                        </div>
                        <div class="effect-btn" onclick="applyVintageFilter()">
                            <i class="fas fa-camera-retro"></i>
                            Винтаж
                        </div>
                        <div class="effect-btn" onclick="applyPixelFilter()">
                            <i class="fas fa-gamepad"></i>
                            Пиксели
                        </div>
                    </div>
                </div>
                
                <div class="control-group">
                    <div class="more-btn" onclick="togglePanel('text-positions-panel')">
                        <i class="fas fa-text-height"></i>
                        <span>Позиции текста</span>
                    </div>
                    <div class="panel" id="text-positions-panel">
                        <div class="effect-btn" onclick="setTextPosition('top')">
                            <i class="fas fa-arrow-up"></i>
                            Только верх
                        </div>
                        <div class="effect-btn" onclick="setTextPosition('bottom')">
                            <i class="fas fa-arrow-down"></i>
                            Только низ
                        </div>
                        <div class="effect-btn" onclick="setTextPosition('both')">
                            <i class="fas fa-arrows-alt-v"></i>
                            Верх и низ
                        </div>
                        <div class="effect-btn" onclick="setTextPosition('center')">
                            <i class="fas fa-align-center"></i>
                            По центру
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Панель рамки и действий -->
            <div class="control-panel">
                <div class="panel-title">
                    <i class="fas fa-square"></i>
                    <span>Рамка</span>
                </div>
                <div class="frame-control">
                    <span>Чёрная рамка</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="frame-toggle">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="control-group" id="frame-size-control" style="display: none;">
                    <label class="control-label">Размер рамки:</label>
                    <input type="range" id="frame-size" min="0" max="50" value="10">
                    <div class="slider-value" id="frame-size-value">10%</div>
                </div>
                
                <div class="action-buttons">
                    <button id="smart-meme-btn" onclick="generateSmartMeme()">
                        <i class="fas fa-brain"></i> Умный мем
                    </button>
                    <button id="download-btn" onclick="downloadMeme()" disabled>
                        <i class="fas fa-download"></i> Скачать
                    </button>
                    <button id="share-btn" onclick="shareMeme()" disabled>
                        <i class="fas fa-share-alt"></i> Поделиться
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
